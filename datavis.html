<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Data Visualisations | RWFD</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="logo">RWFD</div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="footballbetting.html">Football Betting</a></li>
        <li><a href="datavis.html">Data Visualisations</a></li>
        <li><a href="propmetrics.html">Proprietary Metrics</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="intro">
      <h1>Data Visualisations</h1>
      <p>Here is a collection of insightful, strange, and sometimes pointless visualisations of data from the world of football. Make of it what you will.</p>
    </section>

<section class="datavis-container">
  <h2>Data Visualisations</h2>
  <p>Click a heading to explore.</p>

  <div class="accordion-item">
    <button class="accordion-button">Does having more pubs make you more susceptible to poor home results?</button>
    <div class="accordion-content">
      <p>Have you ever wondered if the level of drunkeness (and presumably therefore noisy support) of an away crowd has any effect on their teams' performance? I highly doubt you have, as I indeed also doubt the correlation itself, but why not have a look anyway.</p>

      <p>Below is the number of pubs for each current Premier League team within a 1 mile radius of their stadium. Data sourced from Google Maps.</p>

      <p><strong>Pubs within 1 mile:</strong></p>
      <div class="table-container">
        <table class="styled-table">
    <thead>
      <tr>
        <th>Club</th>
        <th>Pubs Within 1 Mile</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>Newcastle United</td><td>174</td></tr>
      <tr><td>Wolverhampton Wanderers</td><td>50</td></tr>
      <tr><td>Arsenal</td><td>33</td></tr>
      <tr><td>Ipswich Town</td><td>29</td></tr>
      <tr><td>Chelsea</td><td>27</td></tr>
      <tr><td>Liverpool</td><td>25</td></tr>
      <tr><td>Everton</td><td>23</td></tr>
      <tr><td>Tottenham Hotspur</td><td>20</td></tr>
      <tr><td>Nottingham Forest</td><td>14</td></tr>
      <tr><td>West Ham United</td><td>12</td></tr>
      <tr><td>Aston Villa</td><td>8</td></tr>
      <tr><td>Bournemouth</td><td>7</td></tr>
      <tr><td>Crystal Palace</td><td>7</td></tr>
      <tr><td>Leicester City</td><td>7</td></tr>
      <tr><td>Manchester United</td><td>7</td></tr>
      <tr><td>Brentford</td><td>6</td></tr>
      <tr><td>Fulham</td><td>6</td></tr>
      <tr><td>Southampton</td><td>4</td></tr>
      <tr><td>Brighton & Hove Albion</td><td>3</td></tr>
      <tr><td>Manchester City</td><td>2</td></tr>
    </tbody>
  </table>

      </div>

<p>Here we have each teams' home performance across the past 200 games in all competitions.</p>

<p>Now it's fair to say this venture may be entirely pointless and rather stupid; of course you would expect stronger teams to have a better home record. Teams coming up and down also affects the consistency across the data, but may actually help in some way to reduce the inbalance for newly promoted sides, as they will boast more favourable home records from their time in the Championship. This data was sourced from fbref.</p>

      <p><strong>Home performance (last 200 games):</strong></p>
      <div class="table-container">
         <table class="styled-table">
    <thead>
      <tr>
        <th>Club</th>
        <th>Wins</th>
        <th>Draws</th>
        <th>Losses</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>Newcastle United</td><td>98</td><td>54</td><td>48</td></tr>
      <tr><td>Wolverhampton Wanderers</td><td>85</td><td>60</td><td>55</td></tr>
      <tr><td>Arsenal</td><td>112</td><td>50</td><td>38</td></tr>
      <tr><td>Ipswich Town</td><td>90</td><td>65</td><td>45</td></tr>
      <tr><td>Chelsea</td><td>110</td><td>55</td><td>35</td></tr>
      <tr><td>Liverpool</td><td>130</td><td>45</td><td>25</td></tr>
      <tr><td>Everton</td><td>95</td><td>60</td><td>45</td></tr>
      <tr><td>Tottenham Hotspur</td><td>105</td><td>50</td><td>45</td></tr>
      <tr><td>Nottingham Forest</td><td>88</td><td>70</td><td>42</td></tr>
      <tr><td>West Ham United</td><td>92</td><td>60</td><td>48</td></tr>
      <tr><td>Aston Villa</td><td>98</td><td>55</td><td>47</td></tr>
      <tr><td>Bournemouth</td><td>85</td><td>60</td><td>55</td></tr>
      <tr><td>Crystal Palace</td><td>90</td><td>65</td><td>45</td></tr>
      <tr><td>Leicester City</td><td>100</td><td>55</td><td>45</td></tr>
      <tr><td>Manchester United</td><td>120</td><td>50</td><td>30</td></tr>
      <tr><td>Brentford</td><td>95</td><td>60</td><td>45</td></tr>
      <tr><td>Fulham</td><td>88</td><td>65</td><td>47</td></tr>
      <tr><td>Southampton</td><td>90</td><td>60</td><td>50</td></tr>
      <tr><td>Brighton & Hove Albion</td><td>85</td><td>65</td><td>50</td></tr>
      <tr><td>Manchester City</td><td>151</td><td>28</td><td>21</td></tr>
    </tbody>
  </table>>
      </div>

      <p>Now let's use a scatter plot to compare each teams' home win percentage with the density of pubs in a 1 mile radius of their home stadium. I doubt we will learn anything here, and even if there was an implied correlation from the plot, there are far too many factors affecting the validity of the comparison in the first place. But who doesn't love data for data's sake?</p>

      <canvas id="homepubsplot" width="600" height="400"></canvas>
    </div>
  </div>

</section>


  </main>

  <footer>
    <p>Â© 2025 Ryan Smith</p>
  </footer>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const data = {
    datasets: [{
      label: 'Pubs vs Home Wins (%)',
      data: [
        { x: 174, y: (98/200)*100, label: 'Newcastle' },
        { x: 50, y: (85/200)*100, label: 'Wolves' },
        { x: 33, y: (112/200)*100, label: 'Arsenal' },
        { x: 29, y: (90/200)*100, label: 'Ipswich' },
        { x: 27, y: (110/200)*100, label: 'Chelsea' },
        { x: 25, y: (130/200)*100, label: 'Liverpool' },
        { x: 23, y: (95/200)*100, label: 'Everton' },
        { x: 20, y: (105/200)*100, label: 'Spurs' },
        { x: 14, y: (88/200)*100, label: 'Forest' },
        { x: 12, y: (92/200)*100, label: 'West Ham' },
        { x: 8, y: (98/200)*100, label: 'Villa' },
        { x: 7, y: (85/200)*100, label: 'Bournemouth' },
        { x: 7, y: (90/200)*100, label: 'Palace' },
        { x: 7, y: (100/200)*100, label: 'Leicester' },
        { x: 7, y: (120/200)*100, label: 'Man Utd' },
        { x: 6, y: (95/200)*100, label: 'Brentford' },
        { x: 6, y: (88/200)*100, label: 'Fulham' },
        { x: 4, y: (90/200)*100, label: 'Southampton' },
        { x: 3, y: (85/200)*100, label: 'Brighton' },
        { x: 2, y: (151/200)*100, label: 'Man City' },
      ],
      backgroundColor: '#0077b6'
    }]
  };

  const config = {
    type: 'scatter',
    data: data,
    options: {
      plugins: {
        tooltip: {
          callbacks: {
            label: function(context) {
              const point = context.raw;
              return `${point.label}: ${point.x} pubs, ${point.y.toFixed(1)}% wins`;
            }
          }
        }
      },
      scales: {
        x: {
          title: {
            display: true,
            text: 'Pubs Within 1 Mile'
          }
        },
        y: {
          title: {
            display: true,
            text: 'Home Win % (last 200 games)'
          },
          min: 0,
          max: 100
        }
      }
    }
  };

  new Chart(document.getElementById('homepubsplot'), config);
</script>

<script>
  // Accordion toggle
  const accButtons = document.querySelectorAll('.accordion-button');

  accButtons.forEach(button => {
    button.addEventListener('click', () => {
      const content = button.nextElementSibling;
      const isOpen = content.style.display === 'block';
      
      // Close all open sections
      document.querySelectorAll('.accordion-content').forEach(c => c.style.display = 'none');

      // Toggle the current one
      content.style.display = isOpen ? 'none' : 'block';
    });
  });
</script>

</body>
</html>
